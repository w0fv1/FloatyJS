<!DOCTYPE html>
<html lang="zh">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FloatyJS ä»‹ç»</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/water.css@2/out/water.css">
    <script type="module" src="./floaty.js" data-theme-color="#fff" data-button-text="ğŸ’¬"
        data-tooltip-text="ç‚¹å‡»è¿™é‡Œå¯ä»¥æ‰“å¼€æ‚¬æµ®çª—å“¦~" data-target-link="./iframe.html" data-window-title="FloatyJS"
        data-window-height="800px" data-window-width="1000px" data-window-title="FloatyJS"></script>
    <script src="https://cdn.jsdelivr.net/npm/markdown-it@14.1.0/dist/markdown-it.min.js"></script>
</head>

<body>
   <!-- å®¹å™¨ï¼Œç”¨äºæ¸²æŸ“ Markdown å†…å®¹ -->
   <div id="content" class="markdown-body"></div>

   <script>
       document.addEventListener("DOMContentLoaded", () => {
           // åˆå§‹åŒ– markdown-it
           const md = window.markdownit({
               html: true,        // å…è®¸ HTML æ ‡ç­¾
               linkify: true,     // è‡ªåŠ¨å°† URL è½¬æ¢ä¸ºé“¾æ¥
               typographer: true  // å¯ç”¨ä¸€äº›ç¾åŒ–åŠŸèƒ½
           });

           // è·å– README.md å†…å®¹
           fetch('./README.md')
               .then(response => {
                   if (!response.ok) {
                       throw new Error('æ— æ³•è·å– README.md æ–‡ä»¶: ' + response.statusText);
                   }
                   return response.text();
               })
               .then(markdown => {
                   // å°† Markdown è½¬æ¢ä¸º HTML
                   const result = md.render(markdown);
                   // å°†ç»“æœæ’å…¥åˆ°é¡µé¢ä¸­
                   const contentDiv = document.getElementById('content');
                   contentDiv.innerHTML = result;
               })
               .catch(error => {
                   console.error('è·å–æˆ–æ¸²æŸ“ Markdown æ—¶å‡ºé”™:', error);
                   const contentDiv = document.getElementById('content');
                   contentDiv.innerHTML = `<p style="color: red;">æ— æ³•åŠ è½½å†…å®¹: ${error.message}</p>`;
               });
       });
   </script>
</body>

</html>